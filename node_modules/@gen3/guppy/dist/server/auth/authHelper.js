"use strict";Object.defineProperty(exports, "__esModule", { value: true });exports.default = exports.AuthHelper = void 0;var _lodash = _interopRequireDefault(require("lodash"));
var _utils = require("../utils/utils");
var _logger = _interopRequireDefault(require("../logger"));
var _utils2 = require("./utils");





var _config = _interopRequireDefault(require("../config"));function _interopRequireDefault(e) {return e && e.__esModule ? e : { default: e };}

class AuthHelper {
  constructor(jwt) {
    this._jwt = jwt;
  }

  async initialize() {
    try {
      const [accessibleResourceList, arboristResources] = await (0, _utils2.getAccessibleResourcesFromArboristasync)(this._jwt);
      this._accessibleResourceList = accessibleResourceList;
      this._arboristResources = arboristResources;
      _logger.default.debug('[AuthHelper] accessible resources:', this._accessibleResourceList);
      this._canRefresh = await (0, _utils2.checkIfUserCanRefreshServer)(this._arboristResources);
      _logger.default.debug('[AuthHelper] can user refresh:', this._canRefresh);

      const promiseList = [];
      _config.default.esConfig.indices.forEach(({ index, type }) => {
        const subListPromise = this.getOutOfScopeResourceList(index, type);
        promiseList.push(subListPromise);
      });
      const listResult = await Promise.all(promiseList);

      this._unaccessibleResourceList = [];
      listResult.forEach((list) => {
        this._unaccessibleResourceList = _lodash.default.union(this._unaccessibleResourceList, list);
      });
      _logger.default.debug('[AuthHelper] unaccessible resources:', this._unaccessibleResourceList);
    } catch (err) {
      _logger.default.error('[AuthHelper] error when initializing:', err);
    }
  }

  getAccessibleResources() {
    return this._accessibleResourceList;
  }

  getCanRefresh() {
    return this._canRefresh;
  }

  getUnaccessibleResources() {
    return this._unaccessibleResourceList;
  }

  async getOutOfScopeResourceList(esIndex, esType, filter, filterSelf) {
    const requestResourceList = await (0, _utils2.getRequestResourceListFromFilter)(
      esIndex,
      esType,
      filter,
      filterSelf
    );
    _logger.default.debug('[AuthHelper] filter:', filter);
    _logger.default.debug(`[AuthHelper] request resource list: [${requestResourceList.join(', ')}]`);
    const outOfScopeResourceList = _lodash.default.difference(requestResourceList, this._accessibleResourceList);
    _logger.default.debug(`[AuthHelper] out-of-scope resource list: [${outOfScopeResourceList.join(', ')}]`);
    return outOfScopeResourceList;
  }

  applyAccessibleFilter(filter) {
    const accessiblePart = (0, _utils2.buildFilterWithResourceList)(this._accessibleResourceList);
    const appliedFilter = (0, _utils.addTwoFilters)(filter, accessiblePart);
    return appliedFilter;
  }

  applyUnaccessibleFilter(filter) {
    const unaccessiblePart = (0, _utils2.buildFilterWithResourceList)(this._unaccessibleResourceList);
    const appliedFilter = (0, _utils.addTwoFilters)(filter, unaccessiblePart);
    return appliedFilter;
  }

  getDefaultFilter(accessibility) {
    if (accessibility === 'all') {
      return {};
    }
    if (accessibility === 'accessible') {
      return this.applyAccessibleFilter();
    }
    if (accessibility === 'unaccessible') {
      return this.applyUnaccessibleFilter();
    }
    throw new Error(`Invalid accessibility argument: ${accessibility}`);
  }
}exports.AuthHelper = AuthHelper;

const getAuthHelperInstance = async (jwt) => {
  const authHelper = new AuthHelper(jwt);
  await authHelper.initialize();
  return authHelper;
};var _default = exports.default =

getAuthHelperInstance;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbG9kYXNoIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfdXRpbHMiLCJfbG9nZ2VyIiwiX3V0aWxzMiIsIl9jb25maWciLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJBdXRoSGVscGVyIiwiY29uc3RydWN0b3IiLCJqd3QiLCJfand0IiwiaW5pdGlhbGl6ZSIsImFjY2Vzc2libGVSZXNvdXJjZUxpc3QiLCJhcmJvcmlzdFJlc291cmNlcyIsImdldEFjY2Vzc2libGVSZXNvdXJjZXNGcm9tQXJib3Jpc3Rhc3luYyIsIl9hY2Nlc3NpYmxlUmVzb3VyY2VMaXN0IiwiX2FyYm9yaXN0UmVzb3VyY2VzIiwibG9nIiwiZGVidWciLCJfY2FuUmVmcmVzaCIsImNoZWNrSWZVc2VyQ2FuUmVmcmVzaFNlcnZlciIsInByb21pc2VMaXN0IiwiY29uZmlnIiwiZXNDb25maWciLCJpbmRpY2VzIiwiZm9yRWFjaCIsImluZGV4IiwidHlwZSIsInN1Ykxpc3RQcm9taXNlIiwiZ2V0T3V0T2ZTY29wZVJlc291cmNlTGlzdCIsInB1c2giLCJsaXN0UmVzdWx0IiwiUHJvbWlzZSIsImFsbCIsIl91bmFjY2Vzc2libGVSZXNvdXJjZUxpc3QiLCJsaXN0IiwiXyIsInVuaW9uIiwiZXJyIiwiZXJyb3IiLCJnZXRBY2Nlc3NpYmxlUmVzb3VyY2VzIiwiZ2V0Q2FuUmVmcmVzaCIsImdldFVuYWNjZXNzaWJsZVJlc291cmNlcyIsImVzSW5kZXgiLCJlc1R5cGUiLCJmaWx0ZXIiLCJmaWx0ZXJTZWxmIiwicmVxdWVzdFJlc291cmNlTGlzdCIsImdldFJlcXVlc3RSZXNvdXJjZUxpc3RGcm9tRmlsdGVyIiwiam9pbiIsIm91dE9mU2NvcGVSZXNvdXJjZUxpc3QiLCJkaWZmZXJlbmNlIiwiYXBwbHlBY2Nlc3NpYmxlRmlsdGVyIiwiYWNjZXNzaWJsZVBhcnQiLCJidWlsZEZpbHRlcldpdGhSZXNvdXJjZUxpc3QiLCJhcHBsaWVkRmlsdGVyIiwiYWRkVHdvRmlsdGVycyIsImFwcGx5VW5hY2Nlc3NpYmxlRmlsdGVyIiwidW5hY2Nlc3NpYmxlUGFydCIsImdldERlZmF1bHRGaWx0ZXIiLCJhY2Nlc3NpYmlsaXR5IiwiRXJyb3IiLCJleHBvcnRzIiwiZ2V0QXV0aEhlbHBlckluc3RhbmNlIiwiYXV0aEhlbHBlciIsIl9kZWZhdWx0Il0sInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL3NlcnZlci9hdXRoL2F1dGhIZWxwZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IGFkZFR3b0ZpbHRlcnMgfSBmcm9tICcuLi91dGlscy91dGlscyc7XG5pbXBvcnQgbG9nIGZyb20gJy4uL2xvZ2dlcic7XG5pbXBvcnQge1xuICBnZXRSZXF1ZXN0UmVzb3VyY2VMaXN0RnJvbUZpbHRlcixcbiAgYnVpbGRGaWx0ZXJXaXRoUmVzb3VyY2VMaXN0LFxuICBnZXRBY2Nlc3NpYmxlUmVzb3VyY2VzRnJvbUFyYm9yaXN0YXN5bmMsXG4gIGNoZWNrSWZVc2VyQ2FuUmVmcmVzaFNlcnZlcixcbn0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQgY29uZmlnIGZyb20gJy4uL2NvbmZpZyc7XG5cbmV4cG9ydCBjbGFzcyBBdXRoSGVscGVyIHtcbiAgY29uc3RydWN0b3Ioand0KSB7XG4gICAgdGhpcy5fand0ID0gand0O1xuICB9XG5cbiAgYXN5bmMgaW5pdGlhbGl6ZSgpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgW2FjY2Vzc2libGVSZXNvdXJjZUxpc3QsIGFyYm9yaXN0UmVzb3VyY2VzXSA9IGF3YWl0IGdldEFjY2Vzc2libGVSZXNvdXJjZXNGcm9tQXJib3Jpc3Rhc3luYyh0aGlzLl9qd3QpO1xuICAgICAgdGhpcy5fYWNjZXNzaWJsZVJlc291cmNlTGlzdCA9IGFjY2Vzc2libGVSZXNvdXJjZUxpc3Q7XG4gICAgICB0aGlzLl9hcmJvcmlzdFJlc291cmNlcyA9IGFyYm9yaXN0UmVzb3VyY2VzO1xuICAgICAgbG9nLmRlYnVnKCdbQXV0aEhlbHBlcl0gYWNjZXNzaWJsZSByZXNvdXJjZXM6JywgdGhpcy5fYWNjZXNzaWJsZVJlc291cmNlTGlzdCk7XG4gICAgICB0aGlzLl9jYW5SZWZyZXNoID0gYXdhaXQgY2hlY2tJZlVzZXJDYW5SZWZyZXNoU2VydmVyKHRoaXMuX2FyYm9yaXN0UmVzb3VyY2VzKTtcbiAgICAgIGxvZy5kZWJ1ZygnW0F1dGhIZWxwZXJdIGNhbiB1c2VyIHJlZnJlc2g6JywgdGhpcy5fY2FuUmVmcmVzaCk7XG5cbiAgICAgIGNvbnN0IHByb21pc2VMaXN0ID0gW107XG4gICAgICBjb25maWcuZXNDb25maWcuaW5kaWNlcy5mb3JFYWNoKCh7IGluZGV4LCB0eXBlIH0pID0+IHtcbiAgICAgICAgY29uc3Qgc3ViTGlzdFByb21pc2UgPSB0aGlzLmdldE91dE9mU2NvcGVSZXNvdXJjZUxpc3QoaW5kZXgsIHR5cGUpO1xuICAgICAgICBwcm9taXNlTGlzdC5wdXNoKHN1Ykxpc3RQcm9taXNlKTtcbiAgICAgIH0pO1xuICAgICAgY29uc3QgbGlzdFJlc3VsdCA9IGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VMaXN0KTtcblxuICAgICAgdGhpcy5fdW5hY2Nlc3NpYmxlUmVzb3VyY2VMaXN0ID0gW107XG4gICAgICBsaXN0UmVzdWx0LmZvckVhY2goKGxpc3QpID0+IHtcbiAgICAgICAgdGhpcy5fdW5hY2Nlc3NpYmxlUmVzb3VyY2VMaXN0ID0gXy51bmlvbih0aGlzLl91bmFjY2Vzc2libGVSZXNvdXJjZUxpc3QsIGxpc3QpO1xuICAgICAgfSk7XG4gICAgICBsb2cuZGVidWcoJ1tBdXRoSGVscGVyXSB1bmFjY2Vzc2libGUgcmVzb3VyY2VzOicsIHRoaXMuX3VuYWNjZXNzaWJsZVJlc291cmNlTGlzdCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBsb2cuZXJyb3IoJ1tBdXRoSGVscGVyXSBlcnJvciB3aGVuIGluaXRpYWxpemluZzonLCBlcnIpO1xuICAgIH1cbiAgfVxuXG4gIGdldEFjY2Vzc2libGVSZXNvdXJjZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FjY2Vzc2libGVSZXNvdXJjZUxpc3Q7XG4gIH1cblxuICBnZXRDYW5SZWZyZXNoKCkge1xuICAgIHJldHVybiB0aGlzLl9jYW5SZWZyZXNoO1xuICB9XG5cbiAgZ2V0VW5hY2Nlc3NpYmxlUmVzb3VyY2VzKCkge1xuICAgIHJldHVybiB0aGlzLl91bmFjY2Vzc2libGVSZXNvdXJjZUxpc3Q7XG4gIH1cblxuICBhc3luYyBnZXRPdXRPZlNjb3BlUmVzb3VyY2VMaXN0KGVzSW5kZXgsIGVzVHlwZSwgZmlsdGVyLCBmaWx0ZXJTZWxmKSB7XG4gICAgY29uc3QgcmVxdWVzdFJlc291cmNlTGlzdCA9IGF3YWl0IGdldFJlcXVlc3RSZXNvdXJjZUxpc3RGcm9tRmlsdGVyKFxuICAgICAgZXNJbmRleCxcbiAgICAgIGVzVHlwZSxcbiAgICAgIGZpbHRlcixcbiAgICAgIGZpbHRlclNlbGYsXG4gICAgKTtcbiAgICBsb2cuZGVidWcoJ1tBdXRoSGVscGVyXSBmaWx0ZXI6JywgZmlsdGVyKTtcbiAgICBsb2cuZGVidWcoYFtBdXRoSGVscGVyXSByZXF1ZXN0IHJlc291cmNlIGxpc3Q6IFske3JlcXVlc3RSZXNvdXJjZUxpc3Quam9pbignLCAnKX1dYCk7XG4gICAgY29uc3Qgb3V0T2ZTY29wZVJlc291cmNlTGlzdCA9IF8uZGlmZmVyZW5jZShyZXF1ZXN0UmVzb3VyY2VMaXN0LCB0aGlzLl9hY2Nlc3NpYmxlUmVzb3VyY2VMaXN0KTtcbiAgICBsb2cuZGVidWcoYFtBdXRoSGVscGVyXSBvdXQtb2Ytc2NvcGUgcmVzb3VyY2UgbGlzdDogWyR7b3V0T2ZTY29wZVJlc291cmNlTGlzdC5qb2luKCcsICcpfV1gKTtcbiAgICByZXR1cm4gb3V0T2ZTY29wZVJlc291cmNlTGlzdDtcbiAgfVxuXG4gIGFwcGx5QWNjZXNzaWJsZUZpbHRlcihmaWx0ZXIpIHtcbiAgICBjb25zdCBhY2Nlc3NpYmxlUGFydCA9IGJ1aWxkRmlsdGVyV2l0aFJlc291cmNlTGlzdCh0aGlzLl9hY2Nlc3NpYmxlUmVzb3VyY2VMaXN0KTtcbiAgICBjb25zdCBhcHBsaWVkRmlsdGVyID0gYWRkVHdvRmlsdGVycyhmaWx0ZXIsIGFjY2Vzc2libGVQYXJ0KTtcbiAgICByZXR1cm4gYXBwbGllZEZpbHRlcjtcbiAgfVxuXG4gIGFwcGx5VW5hY2Nlc3NpYmxlRmlsdGVyKGZpbHRlcikge1xuICAgIGNvbnN0IHVuYWNjZXNzaWJsZVBhcnQgPSBidWlsZEZpbHRlcldpdGhSZXNvdXJjZUxpc3QodGhpcy5fdW5hY2Nlc3NpYmxlUmVzb3VyY2VMaXN0KTtcbiAgICBjb25zdCBhcHBsaWVkRmlsdGVyID0gYWRkVHdvRmlsdGVycyhmaWx0ZXIsIHVuYWNjZXNzaWJsZVBhcnQpO1xuICAgIHJldHVybiBhcHBsaWVkRmlsdGVyO1xuICB9XG5cbiAgZ2V0RGVmYXVsdEZpbHRlcihhY2Nlc3NpYmlsaXR5KSB7XG4gICAgaWYgKGFjY2Vzc2liaWxpdHkgPT09ICdhbGwnKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGlmIChhY2Nlc3NpYmlsaXR5ID09PSAnYWNjZXNzaWJsZScpIHtcbiAgICAgIHJldHVybiB0aGlzLmFwcGx5QWNjZXNzaWJsZUZpbHRlcigpO1xuICAgIH1cbiAgICBpZiAoYWNjZXNzaWJpbGl0eSA9PT0gJ3VuYWNjZXNzaWJsZScpIHtcbiAgICAgIHJldHVybiB0aGlzLmFwcGx5VW5hY2Nlc3NpYmxlRmlsdGVyKCk7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBhY2Nlc3NpYmlsaXR5IGFyZ3VtZW50OiAke2FjY2Vzc2liaWxpdHl9YCk7XG4gIH1cbn1cblxuY29uc3QgZ2V0QXV0aEhlbHBlckluc3RhbmNlID0gYXN5bmMgKGp3dCkgPT4ge1xuICBjb25zdCBhdXRoSGVscGVyID0gbmV3IEF1dGhIZWxwZXIoand0KTtcbiAgYXdhaXQgYXV0aEhlbHBlci5pbml0aWFsaXplKCk7XG4gIHJldHVybiBhdXRoSGVscGVyO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZ2V0QXV0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