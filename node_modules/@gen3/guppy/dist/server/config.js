"use strict";Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _fs = require("fs");
var _logger = _interopRequireDefault(require("./logger"));function _interopRequireDefault(e) {return e && e.__esModule ? e : { default: e };}

let inputConfig = {};
if (process.env.GUPPY_CONFIG_FILEPATH) {
  const configFilepath = process.env.GUPPY_CONFIG_FILEPATH;
  inputConfig = JSON.parse((0, _fs.readFileSync)(configFilepath).toString());
  _logger.default.info(
    '[config] read guppy config from',
    configFilepath,
    JSON.stringify(inputConfig, null, 4)
  );
}

const config = {
  esConfig: {
    host: 'localhost:9200',
    indices: inputConfig.indices || [
    {
      index: 'gen3-dev-subject',
      type: 'subject'
    },
    {
      index: 'gen3-dev-file',
      type: 'file'
    }],

    configIndex: inputConfig.indices ?
    inputConfig.config_index :
    'gen3-dev-config',
    authFilterField: inputConfig.auth_filter_field || 'auth_resource_path',
    aggregationIncludeMissingData:
    typeof inputConfig.aggs_include_missing_data === 'undefined' ?
    true :
    inputConfig.aggs_include_missing_data,
    missingDataAlias: inputConfig.missing_data_alias || 'no data'
  },
  port: 80,
  path: '/graphql',
  arboristEndpoint: 'http://arborist-service',
  tierAccessLevel: 'private',
  tierAccessLimit: 1000,
  tierAccessSensitiveRecordExclusionField:
  inputConfig.tier_access_sensitive_record_exclusion_field,
  logLevel: inputConfig.log_level || 'INFO',
  enableEncryptWhiteList:
  typeof inputConfig.enable_encrypt_whitelist === 'undefined' ?
  false :
  inputConfig.enable_encrypt_whitelist,
  encryptWhitelist: inputConfig.encrypt_whitelist || [
  '__missing__',
  'unknown',
  'not reported',
  'no data'],

  analyzedTextFieldSuffix: '.analyzed',
  matchedTextHighlightTagName: 'em',
  allowedMinimumSearchLen: 2,
  allowRefresh: inputConfig.allowRefresh || false
};

if (process.env.GEN3_ES_ENDPOINT) {
  config.esConfig.host = process.env.GEN3_ES_ENDPOINT;
}
if (!config.esConfig.host.startsWith('http')) {
  config.esConfig.host = `http://${config.esConfig.host}`;
}

if (process.env.GEN3_ARBORIST_ENDPOINT) {
  config.arboristEndpoint = process.env.GEN3_ARBORIST_ENDPOINT;
}

if (process.env.GUPPY_PORT) {
  config.port = process.env.GUPPY_PORT;
}

const allowedTierAccessLevels = ['private', 'regular', 'libre'];

if (process.env.TIER_ACCESS_LEVEL) {
  if (!allowedTierAccessLevels.includes(process.env.TIER_ACCESS_LEVEL)) {
    throw new Error(
      `Invalid TIER_ACCESS_LEVEL "${process.env.TIER_ACCESS_LEVEL}"`
    );
  }
  config.tierAccessLevel = process.env.TIER_ACCESS_LEVEL;
}

if (process.env.TIER_ACCESS_LIMIT) {
  config.tierAccessLimit = process.env.TIER_ACCESS_LIMIT;
}

if (process.env.INTERNAL_LOCAL_TEST) {
  config.internalLocalTest = process.env.INTERNAL_LOCAL_TEST;
}

if (process.env.LOG_LEVEL) {
  config.logLevel = process.env.LOG_LEVEL;
}

if (process.env.ANALYZED_TEXT_FIELD_SUFFIX) {
  config.analyzedTextFieldSuffix = process.env.ANALYZED_TEXT_FIELD_SUFFIX;
}

// Either all indices should have explicit index-scoped tiered-access values or
// the manifest should have a site-wide TIER_ACCESS_LEVEL value.
// This approach is backwards-compatible with commons configured for past versions of tiered-access.
let allIndicesHaveTierAccessSettings = true;
config.esConfig.indices.forEach((item) => {
  if (!item.tier_access_level && !config.tierAccessLevel) {
    throw new Error(
      'Either set all index-scoped tiered-access levels or a site-wide tiered-access level.'
    );
  }
  if (
  item.tier_access_level &&
  !allowedTierAccessLevels.includes(item.tier_access_level))
  {
    throw new Error(`tier_access_level invalid for index ${item.type}.`);
  }
  if (!item.tier_access_level) {
    allIndicesHaveTierAccessSettings = false;
  }
});

// If the indices all have settings, empty out the default
// site-wide TIER_ACCESS_LEVEL from the config.
if (allIndicesHaveTierAccessSettings) {
  delete config.tierAccessLevel;
}

// check whitelist is enabled
if (config.enableEncryptWhiteList) {
  if (typeof config.encryptWhitelist !== 'object') {
    config.encryptWhitelist = [config.encryptWhitelist];
  }
} else {
  config.encryptWhitelist = [];
}

_logger.default.setLogLevel(config.logLevel);
_logger.default.info(
  '[config] starting server using config',
  JSON.stringify(config, null, 4)
);var _default = exports.default =

config;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZnMiLCJyZXF1aXJlIiwiX2xvZ2dlciIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJpbnB1dENvbmZpZyIsInByb2Nlc3MiLCJlbnYiLCJHVVBQWV9DT05GSUdfRklMRVBBVEgiLCJjb25maWdGaWxlcGF0aCIsIkpTT04iLCJwYXJzZSIsInJlYWRGaWxlU3luYyIsInRvU3RyaW5nIiwibG9nIiwiaW5mbyIsInN0cmluZ2lmeSIsImNvbmZpZyIsImVzQ29uZmlnIiwiaG9zdCIsImluZGljZXMiLCJpbmRleCIsInR5cGUiLCJjb25maWdJbmRleCIsImNvbmZpZ19pbmRleCIsImF1dGhGaWx0ZXJGaWVsZCIsImF1dGhfZmlsdGVyX2ZpZWxkIiwiYWdncmVnYXRpb25JbmNsdWRlTWlzc2luZ0RhdGEiLCJhZ2dzX2luY2x1ZGVfbWlzc2luZ19kYXRhIiwibWlzc2luZ0RhdGFBbGlhcyIsIm1pc3NpbmdfZGF0YV9hbGlhcyIsInBvcnQiLCJwYXRoIiwiYXJib3Jpc3RFbmRwb2ludCIsInRpZXJBY2Nlc3NMZXZlbCIsInRpZXJBY2Nlc3NMaW1pdCIsInRpZXJBY2Nlc3NTZW5zaXRpdmVSZWNvcmRFeGNsdXNpb25GaWVsZCIsInRpZXJfYWNjZXNzX3NlbnNpdGl2ZV9yZWNvcmRfZXhjbHVzaW9uX2ZpZWxkIiwibG9nTGV2ZWwiLCJsb2dfbGV2ZWwiLCJlbmFibGVFbmNyeXB0V2hpdGVMaXN0IiwiZW5hYmxlX2VuY3J5cHRfd2hpdGVsaXN0IiwiZW5jcnlwdFdoaXRlbGlzdCIsImVuY3J5cHRfd2hpdGVsaXN0IiwiYW5hbHl6ZWRUZXh0RmllbGRTdWZmaXgiLCJtYXRjaGVkVGV4dEhpZ2hsaWdodFRhZ05hbWUiLCJhbGxvd2VkTWluaW11bVNlYXJjaExlbiIsImFsbG93UmVmcmVzaCIsIkdFTjNfRVNfRU5EUE9JTlQiLCJzdGFydHNXaXRoIiwiR0VOM19BUkJPUklTVF9FTkRQT0lOVCIsIkdVUFBZX1BPUlQiLCJhbGxvd2VkVGllckFjY2Vzc0xldmVscyIsIlRJRVJfQUNDRVNTX0xFVkVMIiwiaW5jbHVkZXMiLCJFcnJvciIsIlRJRVJfQUNDRVNTX0xJTUlUIiwiSU5URVJOQUxfTE9DQUxfVEVTVCIsImludGVybmFsTG9jYWxUZXN0IiwiTE9HX0xFVkVMIiwiQU5BTFlaRURfVEVYVF9GSUVMRF9TVUZGSVgiLCJhbGxJbmRpY2VzSGF2ZVRpZXJBY2Nlc3NTZXR0aW5ncyIsImZvckVhY2giLCJpdGVtIiwidGllcl9hY2Nlc3NfbGV2ZWwiLCJzZXRMb2dMZXZlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9zZXJ2ZXIvY29uZmlnLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHJlYWRGaWxlU3luYyB9IGZyb20gJ2ZzJztcbmltcG9ydCBsb2cgZnJvbSAnLi9sb2dnZXInO1xuXG5sZXQgaW5wdXRDb25maWcgPSB7fTtcbmlmIChwcm9jZXNzLmVudi5HVVBQWV9DT05GSUdfRklMRVBBVEgpIHtcbiAgY29uc3QgY29uZmlnRmlsZXBhdGggPSBwcm9jZXNzLmVudi5HVVBQWV9DT05GSUdfRklMRVBBVEg7XG4gIGlucHV0Q29uZmlnID0gSlNPTi5wYXJzZShyZWFkRmlsZVN5bmMoY29uZmlnRmlsZXBhdGgpLnRvU3RyaW5nKCkpO1xuICBsb2cuaW5mbyhcbiAgICAnW2NvbmZpZ10gcmVhZCBndXBweSBjb25maWcgZnJvbScsXG4gICAgY29uZmlnRmlsZXBhdGgsXG4gICAgSlNPTi5zdHJpbmdpZnkoaW5wdXRDb25maWcsIG51bGwsIDQpLFxuICApO1xufVxuXG5jb25zdCBjb25maWcgPSB7XG4gIGVzQ29uZmlnOiB7XG4gICAgaG9zdDogJ2xvY2FsaG9zdDo5MjAwJyxcbiAgICBpbmRpY2VzOiBpbnB1dENvbmZpZy5pbmRpY2VzIHx8IFtcbiAgICAgIHtcbiAgICAgICAgaW5kZXg6ICdnZW4zLWRldi1zdWJqZWN0JyxcbiAgICAgICAgdHlwZTogJ3N1YmplY3QnLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaW5kZXg6ICdnZW4zLWRldi1maWxlJyxcbiAgICAgICAgdHlwZTogJ2ZpbGUnLFxuICAgICAgfSxcbiAgICBdLFxuICAgIGNvbmZpZ0luZGV4OiBpbnB1dENvbmZpZy5pbmRpY2VzXG4gICAgICA/IGlucHV0Q29uZmlnLmNvbmZpZ19pbmRleFxuICAgICAgOiAnZ2VuMy1kZXYtY29uZmlnJyxcbiAgICBhdXRoRmlsdGVyRmllbGQ6IGlucHV0Q29uZmlnLmF1dGhfZmlsdGVyX2ZpZWxkIHx8ICdhdXRoX3Jlc291cmNlX3BhdGgnLFxuICAgIGFnZ3JlZ2F0aW9uSW5jbHVkZU1pc3NpbmdEYXRhOlxuICAgICAgdHlwZW9mIGlucHV0Q29uZmlnLmFnZ3NfaW5jbHVkZV9taXNzaW5nX2RhdGEgPT09ICd1bmRlZmluZWQnXG4gICAgICAgID8gdHJ1ZVxuICAgICAgICA6IGlucHV0Q29uZmlnLmFnZ3NfaW5jbHVkZV9taXNzaW5nX2RhdGEsXG4gICAgbWlzc2luZ0RhdGFBbGlhczogaW5wdXRDb25maWcubWlzc2luZ19kYXRhX2FsaWFzIHx8ICdubyBkYXRhJyxcbiAgfSxcbiAgcG9ydDogODAsXG4gIHBhdGg6ICcvZ3JhcGhxbCcsXG4gIGFyYm9yaXN0RW5kcG9pbnQ6ICdodHRwOi8vYXJib3Jpc3Qtc2VydmljZScsXG4gIHRpZXJBY2Nlc3NMZXZlbDogJ3ByaXZhdGUnLFxuICB0aWVyQWNjZXNzTGltaXQ6IDEwMDAsXG4gIHRpZXJBY2Nlc3NTZW5zaXRpdmVSZWNvcmRFeGNsdXNpb25GaWVsZDpcbiAgICBpbnB1dENvbmZpZy50aWVyX2FjY2Vzc19zZW5zaXRpdmVfcmVjb3JkX2V4Y2x1c2lvbl9maWVsZCxcbiAgbG9nTGV2ZWw6IGlucHV0Q29uZmlnLmxvZ19sZXZlbCB8fCAnSU5GTycsXG4gIGVuYWJsZUVuY3J5cHRXaGl0ZUxpc3Q6XG4gICAgdHlwZW9mIGlucHV0Q29uZmlnLmVuYWJsZV9lbmNyeXB0X3doaXRlbGlzdCA9PT0gJ3VuZGVmaW5lZCdcbiAgICAgID8gZmFsc2VcbiAgICAgIDogaW5wdXRDb25maWcuZW5hYmxlX2VuY3J5cHRfd2hpdGVsaXN0LFxuICBlbmNyeXB0V2hpdGVsaXN0OiBpbnB1dENvbmZpZy5lbmNyeXB0X3doaXRlbGlzdCB8fCBbXG4gICAgJ19fbWlzc2luZ19fJyxcbiAgICAndW5rbm93bicsXG4gICAgJ25vdCByZXBvcnRlZCcsXG4gICAgJ25vIGRhdGEnLFxuICBdLFxuICBhbmFseXplZFRleHRGaWVsZFN1ZmZpeDogJy5hbmFseXplZCcsXG4gIG1hdGNoZWRUZXh0SGlnaGxpZ2h0VGFnTmFtZTogJ2VtJyxcbiAgYWxsb3dlZE1pbmltdW1TZWFyY2hMZW46IDIsXG4gIGFsbG93UmVmcmVzaDogaW5wdXRDb25maWcuYWxsb3dSZWZyZXNoIHx8IGZhbHNlLFxufTtcblxuaWYgKHByb2Nlc3MuZW52LkdFTjNfRVNfRU5EUE9JTlQpIHtcbiAgY29uZmlnLmVzQ29uZmlnLmhvc3QgPSBwcm9jZXNzLmVudi5HRU4zX0VTX0VORFBPSU5UO1xufVxuaWYgKCFjb25maWcuZXNDb25maWcuaG9zdC5zdGFydHNXaXRoKCdodHRwJykpIHtcbiAgY29uZmlnLmVzQ29uZmlnLmhvc3QgPSBgaHR0cDovLyR7Y29uZmlnLmVzQ29uZmlnLmhvc3R9YDtcbn1cblxuaWYgKHByb2Nlc3MuZW52LkdFTjNfQVJCT1JJU1RfRU5EUE9JTlQpIHtcbiAgY29uZmlnLmFyYm9yaXN0RW5kcG9pbnQgPSBwcm9jZXNzLmVudi5HRU4zX0FSQk9SSVNUX0VORFBPSU5UO1xufVxuXG5pZiAocHJvY2Vzcy5lbnYuR1VQUFlfUE9SVCkge1xuICBjb25maWcucG9ydCA9IHByb2Nlc3MuZW52LkdVUFBZX1BPUlQ7XG59XG5cbmNvbnN0IGFsbG93ZWRUaWVyQWNjZXNzTGV2ZWxzID0gWydwcml2YXRlJywgJ3JlZ3VsYXInLCAnbGlicmUnXTtcblxuaWYgKHByb2Nlc3MuZW52LlRJRVJfQUNDRVNTX0xFVkVMKSB7XG4gIGlmICghYWxsb3dlZFRpZXJBY2Nlc3NMZXZlbHMuaW5jbHVkZXMocHJvY2Vzcy5lbnYuVElFUl9BQ0NFU1NfTEVWRUwpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYEludmFsaWQgVElFUl9BQ0NFU1NfTEVWRUwgXCIke3Byb2Nlc3MuZW52LlRJRVJfQUNDRVNTX0xFVkVMfVwiYCxcbiAgICApO1xuICB9XG4gIGNvbmZpZy50aWVyQWNjZXNzTGV2ZWwgPSBwcm9jZXNzLmVudi5USUVSX0FDQ0VTU19MRVZFTDtcbn1cblxuaWYgKHByb2Nlc3MuZW52LlRJRVJfQUNDRVNTX0xJTUlUKSB7XG4gIGNvbmZpZy50aWVyQWNjZXNzTGltaXQgPSBwcm9jZXNzLmVudi5USUVSX0FDQ0VTU19MSU1JVDtcbn1cblxuaWYgKHByb2Nlc3MuZW52LklOVEVSTkFMX0xPQ0FMX1RFU1QpIHtcbiAgY29uZmlnLmludGVybmFsTG9jYWxUZXN0ID0gcHJvY2Vzcy5lbnYuSU5URVJOQUxfTE9DQUxfVEVTVDtcbn1cblxuaWYgKHByb2Nlc3MuZW52LkxPR19MRVZFTCkge1xuICBjb25maWcubG9nTGV2ZWwgPSBwcm9jZXNzLmVudi5MT0dfTEVWRUw7XG59XG5cbmlmIChwcm9jZXNzLmVudi5BTkFMWVpFRF9URVhUX0ZJRUxEX1NVRkZJWCkge1xuICBjb25maWcuYW5hbHl6ZWRUZXh0RmllbGRTdWZmaXggPSBwcm9jZXNzLmVudi5BTkFMWVpFRF9URVhUX0ZJRUxEX1NVRkZJWDtcbn1cblxuLy8gRWl0aGVyIGFsbCBpbmRpY2VzIHNob3VsZCBoYXZlIGV4cGxpY2l0IGluZGV4LXNjb3BlZCB0aWVyZWQtYWNjZXNzIHZhbHVlcyBvclxuLy8gdGhlIG1hbmlmZXN0IHNob3VsZCBoYXZlIGEgc2l0ZS13aWRlIFRJRVJfQUNDRVNTX0xFVkVMIHZhbHVlLlxuLy8gVGhpcyBhcHByb2FjaCBpcyBiYWNrd2FyZHMtY29tcGF0aWJsZSB3aXRoIGNvbW1vbnMgY29uZmlndXJlZCBmb3IgcGFzdCB2ZXJzaW9ucyBvZiB0aWVyZWQtYWNjZXNzLlxubGV0IGFsbEluZGljZXNIYXZlVGllckFjY2Vzc1NldHRpbmdzID0gdHJ1ZTtcbmNvbmZpZy5lc0NvbmZpZy5pbmRpY2VzLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgaWYgKCFpdGVtLnRpZXJfYWNjZXNzX2xldmVsICYmICFjb25maWcudGllckFjY2Vzc0xldmVsKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ0VpdGhlciBzZXQgYWxsIGluZGV4LXNjb3BlZCB0aWVyZWQtYWNjZXNzIGxldmVscyBvciBhIHNpdGUtd2lkZSB0aWVyZWQtYWNjZXNzIGxldmVsLicsXG4gICAgKTtcbiAgfVxuICBpZiAoXG4gICAgaXRlbS50aWVyX2FjY2Vzc19sZXZlbFxuICAgICYmICFhbGxvd2VkVGllckFjY2Vzc0xldmVscy5pbmNsdWRlcyhpdGVtLnRpZXJfYWNjZXNzX2xldmVsKVxuICApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYHRpZXJfYWNjZXNzX2xldmVsIGludmFsaWQgZm9yIGluZGV4ICR7aXRlbS50eXBlfS5gKTtcbiAgfVxuICBpZiAoIWl0ZW0udGllcl9hY2Nlc3NfbGV2ZWwpIHtcbiAgICBhbGxJbmRpY2VzSGF2ZVRpZXJBY2Nlc3NTZXR0aW5ncyA9IGZhbHNlO1xuICB9XG59KTtcblxuLy8gSWYgdGhlIGluZGljZXMgYWxsIGhhdmUgc2V0dGluZ3MsIGVtcHR5IG91dCB0aGUgZGVmYXVsdFxuLy8gc2l0ZS13aWRlIFRJRVJfQUNDRVNTX0xFVkVMIGZyb20gdGhlIGNvbmZpZy5cbmlmIChhbGxJbmRpY2VzSGF2ZVRpZXJBY2Nlc3NTZXR0aW5ncykge1xuICBkZWxldGUgY29uZmlnLnRpZXJBY2Nlc3NMZXZlbDtcbn1cblxuLy8gY2hlY2sgd2hpdGVsaXN0IGlzIGVuYWJsZWRcbmlmIChjb25maWcuZW5hYmxlRW5jcnlwdFdoaXRlTGlzdCkge1xuICBpZiAodHlwZW9mIGNvbmZpZy5lbmNyeXB0V2hpdGVsaXN0ICE9PSAnb2JqZWN0Jykge1xuICAgIGNvbmZpZy5lbmNyeXB0V2hpdGVsaXN0ID0gW2NvbmZpZy5lbmNyeXB0V2hpdGVsaXN0XTtcbiAgfVxufSBlbHNlIHtcbiAgY29uZmlnLmVuY3J5cHRXaGl0ZWxpc3QgPSBbXTtcbn1cblxubG9nLnNldExvZ0xldmVsKGNvbmZpZy5sb2dMZXZlbCk7XG5sb2cuaW5mbyhcbiAgJ1tjb25maWddIHN0YXJ0aW5nIHNlcnZlciB1c2luZyBjb25maWcnLFxuICBKU09OLnN0cmluZ2lmeShjb25maWcsIG51bGwsIDQpLFxuKTtcblxuZXhwb3J0IGRlZmF1bHQgY29uZmlnO1xuIl0sIm1hcHBpbmdzIjoib0dBQUEsSUFBQUEsR0FBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBQyxzQkFBQSxDQUFBRixPQUFBLGNBQTJCLFNBQUFFLHVCQUFBQyxDQUFBLFVBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBOztBQUUzQixJQUFJRyxXQUFXLEdBQUcsQ0FBQyxDQUFDO0FBQ3BCLElBQUlDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxxQkFBcUIsRUFBRTtFQUNyQyxNQUFNQyxjQUFjLEdBQUdILE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxxQkFBcUI7RUFDeERILFdBQVcsR0FBR0ssSUFBSSxDQUFDQyxLQUFLLENBQUMsSUFBQUMsZ0JBQVksRUFBQ0gsY0FBYyxDQUFDLENBQUNJLFFBQVEsQ0FBQyxDQUFDLENBQUM7RUFDakVDLGVBQUcsQ0FBQ0MsSUFBSTtJQUNOLGlDQUFpQztJQUNqQ04sY0FBYztJQUNkQyxJQUFJLENBQUNNLFNBQVMsQ0FBQ1gsV0FBVyxFQUFFLElBQUksRUFBRSxDQUFDO0VBQ3JDLENBQUM7QUFDSDs7QUFFQSxNQUFNWSxNQUFNLEdBQUc7RUFDYkMsUUFBUSxFQUFFO0lBQ1JDLElBQUksRUFBRSxnQkFBZ0I7SUFDdEJDLE9BQU8sRUFBRWYsV0FBVyxDQUFDZSxPQUFPLElBQUk7SUFDOUI7TUFDRUMsS0FBSyxFQUFFLGtCQUFrQjtNQUN6QkMsSUFBSSxFQUFFO0lBQ1IsQ0FBQztJQUNEO01BQ0VELEtBQUssRUFBRSxlQUFlO01BQ3RCQyxJQUFJLEVBQUU7SUFDUixDQUFDLENBQ0Y7O0lBQ0RDLFdBQVcsRUFBRWxCLFdBQVcsQ0FBQ2UsT0FBTztJQUM1QmYsV0FBVyxDQUFDbUIsWUFBWTtJQUN4QixpQkFBaUI7SUFDckJDLGVBQWUsRUFBRXBCLFdBQVcsQ0FBQ3FCLGlCQUFpQixJQUFJLG9CQUFvQjtJQUN0RUMsNkJBQTZCO0lBQzNCLE9BQU90QixXQUFXLENBQUN1Qix5QkFBeUIsS0FBSyxXQUFXO0lBQ3hELElBQUk7SUFDSnZCLFdBQVcsQ0FBQ3VCLHlCQUF5QjtJQUMzQ0MsZ0JBQWdCLEVBQUV4QixXQUFXLENBQUN5QixrQkFBa0IsSUFBSTtFQUN0RCxDQUFDO0VBQ0RDLElBQUksRUFBRSxFQUFFO0VBQ1JDLElBQUksRUFBRSxVQUFVO0VBQ2hCQyxnQkFBZ0IsRUFBRSx5QkFBeUI7RUFDM0NDLGVBQWUsRUFBRSxTQUFTO0VBQzFCQyxlQUFlLEVBQUUsSUFBSTtFQUNyQkMsdUNBQXVDO0VBQ3JDL0IsV0FBVyxDQUFDZ0MsNENBQTRDO0VBQzFEQyxRQUFRLEVBQUVqQyxXQUFXLENBQUNrQyxTQUFTLElBQUksTUFBTTtFQUN6Q0Msc0JBQXNCO0VBQ3BCLE9BQU9uQyxXQUFXLENBQUNvQyx3QkFBd0IsS0FBSyxXQUFXO0VBQ3ZELEtBQUs7RUFDTHBDLFdBQVcsQ0FBQ29DLHdCQUF3QjtFQUMxQ0MsZ0JBQWdCLEVBQUVyQyxXQUFXLENBQUNzQyxpQkFBaUIsSUFBSTtFQUNqRCxhQUFhO0VBQ2IsU0FBUztFQUNULGNBQWM7RUFDZCxTQUFTLENBQ1Y7O0VBQ0RDLHVCQUF1QixFQUFFLFdBQVc7RUFDcENDLDJCQUEyQixFQUFFLElBQUk7RUFDakNDLHVCQUF1QixFQUFFLENBQUM7RUFDMUJDLFlBQVksRUFBRTFDLFdBQVcsQ0FBQzBDLFlBQVksSUFBSTtBQUM1QyxDQUFDOztBQUVELElBQUl6QyxPQUFPLENBQUNDLEdBQUcsQ0FBQ3lDLGdCQUFnQixFQUFFO0VBQ2hDL0IsTUFBTSxDQUFDQyxRQUFRLENBQUNDLElBQUksR0FBR2IsT0FBTyxDQUFDQyxHQUFHLENBQUN5QyxnQkFBZ0I7QUFDckQ7QUFDQSxJQUFJLENBQUMvQixNQUFNLENBQUNDLFFBQVEsQ0FBQ0MsSUFBSSxDQUFDOEIsVUFBVSxDQUFDLE1BQU0sQ0FBQyxFQUFFO0VBQzVDaEMsTUFBTSxDQUFDQyxRQUFRLENBQUNDLElBQUksR0FBRyxVQUFVRixNQUFNLENBQUNDLFFBQVEsQ0FBQ0MsSUFBSSxFQUFFO0FBQ3pEOztBQUVBLElBQUliLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDMkMsc0JBQXNCLEVBQUU7RUFDdENqQyxNQUFNLENBQUNnQixnQkFBZ0IsR0FBRzNCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDMkMsc0JBQXNCO0FBQzlEOztBQUVBLElBQUk1QyxPQUFPLENBQUNDLEdBQUcsQ0FBQzRDLFVBQVUsRUFBRTtFQUMxQmxDLE1BQU0sQ0FBQ2MsSUFBSSxHQUFHekIsT0FBTyxDQUFDQyxHQUFHLENBQUM0QyxVQUFVO0FBQ3RDOztBQUVBLE1BQU1DLHVCQUF1QixHQUFHLENBQUMsU0FBUyxFQUFFLFNBQVMsRUFBRSxPQUFPLENBQUM7O0FBRS9ELElBQUk5QyxPQUFPLENBQUNDLEdBQUcsQ0FBQzhDLGlCQUFpQixFQUFFO0VBQ2pDLElBQUksQ0FBQ0QsdUJBQXVCLENBQUNFLFFBQVEsQ0FBQ2hELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDOEMsaUJBQWlCLENBQUMsRUFBRTtJQUNwRSxNQUFNLElBQUlFLEtBQUs7TUFDYiw4QkFBOEJqRCxPQUFPLENBQUNDLEdBQUcsQ0FBQzhDLGlCQUFpQjtJQUM3RCxDQUFDO0VBQ0g7RUFDQXBDLE1BQU0sQ0FBQ2lCLGVBQWUsR0FBRzVCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDOEMsaUJBQWlCO0FBQ3hEOztBQUVBLElBQUkvQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ2lELGlCQUFpQixFQUFFO0VBQ2pDdkMsTUFBTSxDQUFDa0IsZUFBZSxHQUFHN0IsT0FBTyxDQUFDQyxHQUFHLENBQUNpRCxpQkFBaUI7QUFDeEQ7O0FBRUEsSUFBSWxELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDa0QsbUJBQW1CLEVBQUU7RUFDbkN4QyxNQUFNLENBQUN5QyxpQkFBaUIsR0FBR3BELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDa0QsbUJBQW1CO0FBQzVEOztBQUVBLElBQUluRCxPQUFPLENBQUNDLEdBQUcsQ0FBQ29ELFNBQVMsRUFBRTtFQUN6QjFDLE1BQU0sQ0FBQ3FCLFFBQVEsR0FBR2hDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDb0QsU0FBUztBQUN6Qzs7QUFFQSxJQUFJckQsT0FBTyxDQUFDQyxHQUFHLENBQUNxRCwwQkFBMEIsRUFBRTtFQUMxQzNDLE1BQU0sQ0FBQzJCLHVCQUF1QixHQUFHdEMsT0FBTyxDQUFDQyxHQUFHLENBQUNxRCwwQkFBMEI7QUFDekU7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSUMsZ0NBQWdDLEdBQUcsSUFBSTtBQUMzQzVDLE1BQU0sQ0FBQ0MsUUFBUSxDQUFDRSxPQUFPLENBQUMwQyxPQUFPLENBQUMsQ0FBQ0MsSUFBSSxLQUFLO0VBQ3hDLElBQUksQ0FBQ0EsSUFBSSxDQUFDQyxpQkFBaUIsSUFBSSxDQUFDL0MsTUFBTSxDQUFDaUIsZUFBZSxFQUFFO0lBQ3RELE1BQU0sSUFBSXFCLEtBQUs7TUFDYjtJQUNGLENBQUM7RUFDSDtFQUNBO0VBQ0VRLElBQUksQ0FBQ0MsaUJBQWlCO0VBQ25CLENBQUNaLHVCQUF1QixDQUFDRSxRQUFRLENBQUNTLElBQUksQ0FBQ0MsaUJBQWlCLENBQUM7RUFDNUQ7SUFDQSxNQUFNLElBQUlULEtBQUssQ0FBQyx1Q0FBdUNRLElBQUksQ0FBQ3pDLElBQUksR0FBRyxDQUFDO0VBQ3RFO0VBQ0EsSUFBSSxDQUFDeUMsSUFBSSxDQUFDQyxpQkFBaUIsRUFBRTtJQUMzQkgsZ0NBQWdDLEdBQUcsS0FBSztFQUMxQztBQUNGLENBQUMsQ0FBQzs7QUFFRjtBQUNBO0FBQ0EsSUFBSUEsZ0NBQWdDLEVBQUU7RUFDcEMsT0FBTzVDLE1BQU0sQ0FBQ2lCLGVBQWU7QUFDL0I7O0FBRUE7QUFDQSxJQUFJakIsTUFBTSxDQUFDdUIsc0JBQXNCLEVBQUU7RUFDakMsSUFBSSxPQUFPdkIsTUFBTSxDQUFDeUIsZ0JBQWdCLEtBQUssUUFBUSxFQUFFO0lBQy9DekIsTUFBTSxDQUFDeUIsZ0JBQWdCLEdBQUcsQ0FBQ3pCLE1BQU0sQ0FBQ3lCLGdCQUFnQixDQUFDO0VBQ3JEO0FBQ0YsQ0FBQyxNQUFNO0VBQ0x6QixNQUFNLENBQUN5QixnQkFBZ0IsR0FBRyxFQUFFO0FBQzlCOztBQUVBNUIsZUFBRyxDQUFDbUQsV0FBVyxDQUFDaEQsTUFBTSxDQUFDcUIsUUFBUSxDQUFDO0FBQ2hDeEIsZUFBRyxDQUFDQyxJQUFJO0VBQ04sdUNBQXVDO0VBQ3ZDTCxJQUFJLENBQUNNLFNBQVMsQ0FBQ0MsTUFBTSxFQUFFLElBQUksRUFBRSxDQUFDO0FBQ2hDLENBQUMsQ0FBQyxJQUFBaUQsUUFBQSxHQUFBQyxPQUFBLENBQUEvRCxPQUFBOztBQUVhYSxNQUFNIiwiaWdub3JlTGlzdCI6W119